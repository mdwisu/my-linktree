---
import { Github, Briefcase, Linkedin, Twitter, ExternalLink } from 'lucide-astro';
import type { LinkItem } from '../data/links';

export interface Props {
  link: LinkItem;
  index: number;
}

const { link, index } = Astro.props;

const iconMap = {
  github: Github,
  briefcase: Briefcase,
  linkedin: Linkedin,
  twitter: Twitter,
};
---

<a
  href={link.url}
  target="_blank"
  rel="noopener noreferrer"
  class="block w-full max-w-md mx-auto mb-4 animate-slide-up"
  style={`animation-delay: ${index * 0.1}s;`}
>
  <div class="glass-effect rounded-2xl p-4 relative overflow-hidden group transition-all duration-300 hover:shadow-lg hover:shadow-indigo-500/20">
    <!-- Featured badge -->
    {link.featured && (
      <div class="absolute top-2 right-2 w-2 h-2 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full animate-pulse"></div>
    )}
    
    <!-- Content -->
    <div class="flex items-center gap-4 z-10 relative">
      <!-- Icon -->
      <div class="flex-shrink-0 w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-200">
        {link.icon && (() => {
          const Icon = iconMap[link.icon as keyof typeof iconMap];
          return Icon ? <Icon class="w-6 h-6 text-white" /> : null;
        })()}
      </div>
      
      <!-- Text content -->
      <div class="flex-1 min-w-0">
        <h3 class="font-semibold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors">
          {link.title}
        </h3>
        {link.description && (
          <p class="text-sm text-gray-500 dark:text-gray-400 truncate">
            {link.description}
          </p>
        )}
      </div>
      
      <!-- Arrow -->
      <div class="flex-shrink-0 opacity-0 group-hover:opacity-100 transform translate-x-2 group-hover:translate-x-0 transition-all duration-200">
        <ExternalLink class="w-5 h-5 text-gray-400" />
      </div>
    </div>
    
    <!-- Hover effect -->
    <div class="absolute inset-0 bg-gradient-to-r from-indigo-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded-2xl z-0"></div>
  </div>
</a>